/*! 
  * @license 
  * itsa 1.2.2 <https://github.com/bendytree/node-itsa> 
  * Copyright 1/31/2015 Josh Wright <http://www.joshwright.com> 
  * MIT LICENSE <https://github.com/bendytree/node-itsa/blob/master/LICENSE> 
  */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.itsa=e()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module){module.exports=require("./lib/itsa")},{"./lib/itsa":3}],2:[function(require,module){module.exports={after:"over",before:"under"}},{}],3:[function(require,module){var itsa=function(){return this instanceof itsa?(this.validators=[],void(this.errorMessages={})):new itsa};itsa.prototype._buildLog=require("./methods/build-log"),itsa.prototype._buildFinalResult=require("./methods/build-final-result"),itsa.prototype._combineResults=require("./methods/combine-results"),itsa.prototype._convertValidatorToItsaInstance=require("./methods/convert-validator-to-itsa-instance"),itsa.prototype._validate=require("./methods/_validate"),itsa.prototype._itsa=itsa,itsa.prototype.validate=require("./methods/validate"),itsa.prototype.msg=require("./methods/msg"),itsa.extend=require("./methods/extend"),itsa.alias=require("./methods/alias"),itsa.extend(require("./validators"));var aliases=require("./aliases");for(var key in aliases)itsa.alias(aliases[key],key);module.exports=itsa},{"./aliases":2,"./methods/_validate":4,"./methods/alias":5,"./methods/build-final-result":6,"./methods/build-log":7,"./methods/combine-results":8,"./methods/convert-validator-to-itsa-instance":9,"./methods/extend":10,"./methods/msg":11,"./methods/validate":12,"./validators":32}],4:[function(require,module){module.exports=function(getter,setter){var results=[];for(var i in this.validators){var validator=this.validators[i],result=runValidator(this,validator,getter,setter);if(result=interpretResult(this,result),result.valid===!1&&this.errorMessages[validator]&&(result.logs[0].customMessage=this.errorMessages[validator]),results.push(result),result.valid===!1)break}return this._buildFinalResult(this._combineResults(results))};var runValidator=function(itsaInstance,validator,getter,setter){try{if("object"==typeof validator&&validator instanceof itsaInstance._itsa)return validator.validate(getter,setter);var val="function"==typeof getter?getter():getter;return"function"==typeof validator?validator.call(itsaInstance,val,setter):val===validator}catch(e){return"Unhandled error. "+String(e)}},interpretResult=function(itsaInstance,result){if("boolean"==typeof result)return{valid:result,logs:[itsaInstance._buildLog("function",result?"Validation succeeded":"Validation failed",result)]};if("[object Object]"===Object.prototype.toString.call(result))return result;var valid="string"!=typeof result||!result;return{valid:valid,logs:[itsaInstance._buildLog("function",valid?"Validation succeeded":result,valid)]}}},{}],5:[function(require,module){module.exports=function(oldName,newName){this[newName]=this.prototype[newName]=function(){return this[oldName].apply(this,arguments)}}},{}],6:[function(require,module){var FinalResult=function(result){this.valid=result.valid,this.logs=result.logs};FinalResult.prototype.describe=function(){if(this.valid)return"Validation succeeded.";var messages=[];for(var i in this.logs){var log=this.logs[i];log.valid||messages.push(log.customMessage?log.customMessage:(log.path?log.path+": ":"")+log.message)}return messages.join("\n")},module.exports=function(result){return new FinalResult(result)}},{}],7:[function(require,module){module.exports=function(validator,msg,valid){for(var paths=[],node=this;node&&node._key;)paths.splice(0,0,node._key),node=node._parent;return{valid:valid,path:paths.join("."),validator:validator,message:msg}}},{}],8:[function(require,module){module.exports=function(results){if(1===results.length)return results[0];var valid=!0,logs=[];for(var i in results){var result=results[i];valid=valid&&result.valid,result.logs&&result.logs.length&&logs.push.apply(logs,result.logs)}return{valid:valid,logs:logs}}},{}],9:[function(require,module){module.exports=function(validator){if("object"==typeof validator&&validator instanceof this._itsa)return validator;var instance=new this._itsa;return instance.validators.push(validator),instance}},{}],10:[function(require,module){module.exports=function(extensions){for(var name in extensions)extensions.hasOwnProperty(name)&&assign(this,name,extensions[name])};var assign=function(itsa,name,builder){itsa[name]=function(){var instance=new itsa;return instance.validators=[builder.apply(instance,arguments)],instance},itsa.prototype[name]=function(){return this.validators.push(builder.apply(this,arguments)),this}}},{}],11:[function(require,module){module.exports=function msg(msg){if("string"!=typeof msg||!msg)throw".msg(...) must be given an error message";return this.errorMessages[this.validators[this.validators.length-1]]=msg,this}},{}],12:[function(require,module){module.exports=function(value){return this._validate(function(){return value})}},{}],13:[function(require,module){var rx=/^[0-9a-z]*$/i;module.exports=function(){return function(val){var type=typeof val;return-1===["string","number"].indexOf(type)?"Value should be alphanumeric, but isn't a string or number.":rx.test(val)?null:"Value is not alphanumeric."}}},{}],14:[function(require,module){module.exports=function(){var validators=[].concat.apply([].slice.call(arguments));if(0===validators.length)throw"No validators given in itsa.any()";for(var i in validators)validators[i]=this._convertValidatorToItsaInstance(validators[i]);return function(val){var validResult=null;for(var i in validators){var itsaInstance=validators[i];itsaInstance._parent=this._parent,itsaInstance._key=this._key;var result=itsaInstance.validate(val);if(result.valid){validResult=result;break}}return validResult?this._combineResults([{valid:!0,logs:[this._buildLog("any","Match found.",!0)]},validResult]):{valid:!1,logs:[this._buildLog("any","No matches found.",!1)]}}}},{}],15:[function(require,module){module.exports=function(example,allowExtraItems){var args=[].concat.apply([].slice.call(arguments));if(allowExtraItems=allowExtraItems||0===args.length,args.length>0){var isExampleArray="[object Array]"===Object.prototype.toString.call(example);if(!isExampleArray)throw"in `.array(example)`, example must be omitted or an array"}for(var i in example){var itsaInstance=this._convertValidatorToItsaInstance(example[i]);example[i]=itsaInstance,itsaInstance._parent=this,itsaInstance._key=String(i)}return function(val){var results=[],prototypeStr=Object.prototype.toString.call(val),valid="[object Array]"===prototypeStr;if(results.push({valid:valid,logs:[this._buildLog("array","Type was :"+prototypeStr,valid)]}),valid===!1)return results[0];if(allowExtraItems===!1&&val.length>example.length)return{valid:!1,logs:[this._buildLog("array","Example has "+example.length+" items, but data has "+val.length,!1)]};for(var i in example){var itsaInstance=example[i],getter=function(){return val[i]},setter=function(newVal){val[i]=newVal},result=itsaInstance._validate.apply(itsaInstance,[getter,setter]);results.push(result)}return this._combineResults(results)}}},{}],16:[function(require,module){module.exports=function(example){var args=[].concat.apply([].slice.call(arguments)),doValidateItems=args.length>0;return function(val){var results=[],prototypeStr=Object.prototype.toString.call(val),valid="[object Array]"===prototypeStr;if(results.push({valid:valid,logs:[this._buildLog("array","Type was :"+prototypeStr,valid)]}),valid===!1)return results[0];if(doValidateItems)for(var i in val){var itsaInstance=this._convertValidatorToItsaInstance(example);itsaInstance._parent=this,itsaInstance._key=String(i);var getter=function(){return val[i]},setter=function(newVal){val[i]=newVal},result=itsaInstance._validate.apply(itsaInstance,[getter,setter]);results.push(result)}return this._combineResults(results)}}},{}],17:[function(require,module){module.exports=function(min,max,inclusive){return function(val){return inclusive?val>=min&&max>=val?null:"Value was not between minimum and maximum (inclusive).":val>min&&max>val?null:"Value was not between minimum and maximum (exclusive)."}}},{}],18:[function(require,module){module.exports=function(){return function(val){var valid="boolean"==typeof val;return valid?null:"Value is not a boolean."}}},{}],19:[function(require,module){module.exports=function(value){return function(val){var hasIndexOf=val&&val.indexOf||"string"==typeof val,valid=hasIndexOf&&val.indexOf(value)>-1;return valid?null:"Data does not contain the value."}}},{}],20:[function(require,module){module.exports=function(validatorFunction){if(0===arguments.length)throw"No validatorFunction given in itsa.custom(...)";return validatorFunction.bind(this)}},{}],21:[function(require,module){module.exports=function(){return function(val){var classType=Object.prototype.toString.call(val),valid="[object Date]"===classType&&isFinite(val);return valid?null:"Invalid date"}}},{}],22:[function(require,module){module.exports=function(defaultVal){var args=[].concat.apply([].slice.call(arguments));if(0===args.length)throw"No default value was given in `.default(...)`.";return function(val,setter){if(!setter)throw"`.default(...)` may not be used unless it is within an object.";var isFalsy=!val;isFalsy&&setter("function"==typeof defaultVal?defaultVal():defaultVal)}}},{}],23:[function(require,module){module.exports=function(){return function(val,setter){if(!setter)throw"`.defaultNow()` may not be used unless it is within an object or array.";val||setter(new Date)}}},{}],24:[function(require,module){var rx=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;module.exports=function(){return function(val){return rx.test(val)?null:"Value is not an email address."}}},{}],25:[function(require,module){module.exports=function(){return function(val){var classType=Object.prototype.toString.call(val);if("[object String]"===classType)return 0===val.length?null:"Expected empty, but length is: "+val.length;if("[object Array]"===classType)return 0===val.length?null:"Expected empty, but length is: "+val.length;if("[object Object]"===classType){var numberOfFields=0;for(var key in val)numberOfFields+=1;return 0===numberOfFields?null:"Expected empty, but number of fields is: "+numberOfFields}return"Type cannot be empty: "+classType}}},{}],26:[function(require,module){module.exports=function(value){return function(val){var hasIndexOf=val&&val.lastIndexOf||"string"==typeof val;if(!hasIndexOf)return"Data has no lastIndexOf, so there's no way to check `.endsWith()`.";var index=val.lastIndexOf(value);if(-1===index)return"Data does not contain the value.";var valueLength=value&&value.length||0;if(valueLength="string"==typeof val?valueLength:1,0===valueLength)return null;var valid=index===val.length-valueLength;return valid?null:"Data contains the value, but does not end with it."}}},{}],27:[function(require,module){module.exports=function(example){if(0===arguments.length)throw"No comparison object given in itsa.equal(...)";return function(val){var valid=example===val;return valid?null:"Value did not pass equality test."}}},{}],28:[function(require,module){module.exports=function(){return function(val){return val===!1?null:"Value is not `false`."}}},{}],29:[function(require,module){module.exports=function(){return function(val){return val?"Value is not falsy.":null}}},{}],30:[function(require,module){module.exports=function(){return function(val){var valid="function"==typeof val;return valid?null:"Value is not a function."}}},{}],31:[function(require,module){var rx=/^[0-9a-f]*$/i;module.exports=function(){return function(val){var type=typeof val;return-1===["string","number"].indexOf(type)?"Value should be hex, but isn't a string or number.":rx.test(val)?null:"Value is not hex."}}},{}],32:[function(require,module){module.exports={alphanumeric:require("./alphanumeric"),any:require("./any"),array:require("./array"),arrayOf:require("./arrayOf"),between:require("./between"),"boolean":require("./boolean"),custom:require("./custom"),contains:require("./contains"),date:require("./date"),"default":require("./default"),defaultNow:require("./defaultNow"),email:require("./email"),empty:require("./empty"),endsWith:require("./endsWith"),equal:require("./equal"),"false":require("./false"),falsy:require("./falsy"),"function":require("./function"),hex:require("./hex"),integer:require("./integer"),json:require("./json"),len:require("./len"),lowercase:require("./lowercase"),matches:require("./matches"),maxLength:require("./maxLength"),minLength:require("./minLength"),nan:require("./nan"),notEmpty:require("./notEmpty"),"null":require("./null"),number:require("./number"),object:require("./object"),over:require("./over"),startsWith:require("./startsWith"),string:require("./string"),to:require("./to"),toDate:require("./toDate"),toFloat:require("./toFloat"),toInteger:require("./toInteger"),toLowercase:require("./toLowercase"),toNow:require("./toNow"),toString:require("./toString"),toTrimmed:require("./toTrimmed"),toUppercase:require("./toUppercase"),"true":require("./true"),truthy:require("./truthy"),undefined:require("./undefined"),under:require("./under"),unique:require("./unique"),uppercase:require("./uppercase")}},{"./alphanumeric":13,"./any":14,"./array":15,"./arrayOf":16,"./between":17,"./boolean":18,"./contains":19,"./custom":20,"./date":21,"./default":22,"./defaultNow":23,"./email":24,"./empty":25,"./endsWith":26,"./equal":27,"./false":28,"./falsy":29,"./function":30,"./hex":31,"./integer":33,"./json":34,"./len":35,"./lowercase":36,"./matches":37,"./maxLength":38,"./minLength":39,"./nan":40,"./notEmpty":41,"./null":42,"./number":43,"./object":44,"./over":45,"./startsWith":46,"./string":47,"./to":48,"./toDate":49,"./toFloat":50,"./toInteger":51,"./toLowercase":52,"./toNow":53,"./toString":54,"./toTrimmed":55,"./toUppercase":56,"./true":57,"./truthy":58,"./undefined":59,"./under":60,"./unique":61,"./uppercase":62}],33:[function(require,module){module.exports=function(){return function(val){var valid="number"==typeof val&&isNaN(val)===!1&&-1===[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY].indexOf(val)&&val%1===0;return valid?null:"Invalid integer"}}},{}],34:[function(require,module){module.exports=function(){return function(val){if("string"!=typeof val)return"JSON must be a string.";try{return JSON.parse(val),null}catch(e){return"Value is a not valid JSON string."}}}},{}],35:[function(require,module){module.exports=function(exactOrMin,max){var args=[].concat.apply([].slice.call(arguments)),validationType="truthy";return 1===args.length&&(validationType="exact"),2===args.length&&(validationType="between"),function(val){var length=val||"string"==typeof val?val.length:void 0;if("truthy"===validationType)return length?null:"Length is not truthy.";if("exact"===validationType)return length===exactOrMin?null:"Length is not exactly: "+exactOrMin;if("between"===validationType){var valid=length>=exactOrMin&&max>=length;return valid?null:"Length is not between "+exactOrMin+" and "+max}}}},{}],36:[function(require,module){var rx=/[A-Z]/;module.exports=function(){return function(val){var valid="string"==typeof val&&!rx.test(val);return valid?null:"Value is contains uppercase characters."}}},{}],37:[function(require,module){module.exports=function(rx){if(rx instanceof RegExp==!1)throw"`.matches(...)` requires a regexp";return function(val){var valid=rx.test(val);return valid?null:"Value does not match regexp."}}},{}],38:[function(require,module){module.exports=function(max){if("number"!=typeof max)throw"Invalid maximum in maxLength: "+max;return function(val){var type=typeof val,length=val||"string"===type?val.length:void 0,valid="number"==typeof length&&max>=length;return{valid:valid,logs:[this._buildLog("maxLength","Length is "+length+", max is "+max,valid)]}}}},{}],39:[function(require,module){module.exports=function(min){if("number"!=typeof min)throw"Invalid minimum in minLength: "+min;return function(val){var type=typeof val,length=val||"string"===type?val.length:void 0,valid="number"==typeof length&&length>=min;return valid?null:"Length is "+length+", min is "+min}}},{}],40:[function(require,module){module.exports=function(){return function(val){return isNaN(val)?null:"Value is not NaN."}}},{}],41:[function(require,module){module.exports=function(){return function(val){var classType=Object.prototype.toString.call(val);if("[object String]"===classType)return 0!==val.length?null:"Expected not empty, but length is: "+val.length;if("[object Array]"===classType)return 0!==val.length?null:"Expected not empty, but length is: "+val.length;if("[object Object]"===classType){var numberOfFields=0;for(var key in val)numberOfFields+=1;return 0!==numberOfFields?null:"Expected not empty, but number of fields is: "+numberOfFields}return"Type cannot be not-empty: "+classType}}},{}],42:[function(require,module){module.exports=function(){return function(val){return null===val?null:"Value is not null."}}},{}],43:[function(require,module){module.exports=function(){return function(val){var valid="number"==typeof val&&isNaN(val)===!1&&-1===[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY].indexOf(val);return valid?null:"Invalid number"}}},{}],44:[function(require,module){module.exports=function(example,allowExtraFields){var args=[].concat.apply([].slice.call(arguments));allowExtraFields=allowExtraFields||0===args.length;for(var key in example)if(example.hasOwnProperty(key)){var itsaInstance=this._convertValidatorToItsaInstance(example[key]);example[key]=itsaInstance,itsaInstance._parent=this,itsaInstance._key=key}return function(val){var results=[],prototypeStr=Object.prototype.toString.call(val),valid="[object Object]"===prototypeStr;if(results.push({valid:valid,logs:[this._buildLog("object","Type was: "+prototypeStr,valid)]}),valid===!1)return results[0];if(allowExtraFields===!1){var invalidFields=[];for(var key in val)key in example==!1&&invalidFields.push(key);if(invalidFields.length>0)return{valid:!1,logs:[this._buildLog("object","Unexpected fields: "+invalidFields.join(),!1)]}}for(var key in example)if(example.hasOwnProperty(key)){var itsaInstance=example[key],getter=function(){return val[key]},setter=function(newVal){val[key]=newVal},result=itsaInstance._validate.apply(itsaInstance,[getter,setter]);results.push(result)}return this._combineResults(results)}}},{}],45:[function(require,module){module.exports=function(min,inclusive){return function(val){return inclusive?val>=min?null:"Value was not over the minimum (inclusive).":val>min?null:"Value was not over the minimum (exclusive)."}}},{}],46:[function(require,module){module.exports=function(value){return function(val){var hasIndexOf=val&&val.indexOf||"string"==typeof val;if(!hasIndexOf)return"Data has no indexOf, so there's no way to check `.startsWith()`.";var index=val.indexOf(value);return-1===index?"Data does not contain the value.":0===index?null:"Data contains the value, but does not start with it."}}},{}],47:[function(require,module){module.exports=function(){return function(val){var type=typeof val,valid="string"===type;return{valid:valid,logs:[this._buildLog("string","Expected a string, but found a "+type,valid)]}}}},{}],48:[function(require,module){module.exports=function(valueOrGetter){var args=[].concat.apply([].slice.call(arguments));if(0===args.length)throw"No default value was given in `.to(...)`.";return function(val,setter){if(!setter)throw"`.to(...)` may not be used unless it is within an object or array.";setter("function"==typeof valueOrGetter?valueOrGetter():valueOrGetter)}}},{}],49:[function(require,module){module.exports=function(){return function(val,setter){if(!setter)throw"`.toDate()` may not be used unless it is within an object or array.";if(!val)return"Unwilling to parse falsy values.";if("[object Array]"===Object.prototype.toString.call(val))return"Unwilling to parse arrays.";var date=new Date(val);return isFinite(date)?void setter(date):"Unable to parse date."}}},{}],50:[function(require,module){module.exports=function(){return function(val,setter){if(!setter)throw"`.toFloat()` may not be used unless it is within an object or array.";var newValue=parseFloat(val);return val===newValue?null:isNaN(newValue)?"Unable to convert data to float.":(setter(newValue),null)}}},{}],51:[function(require,module){module.exports=function(radix){return function(val,setter){if(!setter)throw"`.toInteger()` may not be used unless it is within an object or array.";var newValue=parseInt(val,"undefined"==typeof radix?10:radix);return val===newValue?null:isNaN(newValue)?"Unable to convert data to integer.":(setter(newValue),null)}}},{}],52:[function(require,module){module.exports=function(){return function(val,setter){if(!setter)throw"`.toLowercase()` may not be used unless it is within an object or array.";if("string"==typeof val){var newValue=val.toLowerCase();val!==newValue&&setter(newValue)}}}},{}],53:[function(require,module){module.exports=function(){return function(val,setter){if(!setter)throw"`.toNow()` may not be used unless it is within an object or array.";setter(new Date)}}},{}],54:[function(require,module){module.exports=function(){return function(val,setter){if(!setter)throw"`.toString()` may not be used unless it is within an object or array.";var newValue=String(val);val!==newValue&&setter(newValue)}}},{}],55:[function(require,module){module.exports=function(){return function(val,setter){if(!setter)throw"`.toTrimmed()` may not be used unless it is within an object or array.";if("string"==typeof val){var newValue=val.trim();val!==newValue&&setter(newValue)}}}},{}],56:[function(require,module){module.exports=function(){return function(val,setter){if(!setter)throw"`.toUppercase()` may not be used unless it is within an object or array.";if("string"==typeof val){var newValue=val.toUpperCase();val!==newValue&&setter(newValue)}}}},{}],57:[function(require,module){module.exports=function(){return function(val){return val===!0?null:"Value is not `true`."}}},{}],58:[function(require,module){module.exports=function(){return function(val){return val?null:"Value is not truthy."}}},{}],59:[function(require,module){module.exports=function(){return function(val){return void 0===val?null:"Value is not undefined."}}},{}],60:[function(require,module){module.exports=function(max,inclusive){return function(val){return inclusive?max>=val?null:"Value was not under the maximum (inclusive).":max>val?null:"Value was not under the maximum (exclusive)."}}},{}],61:[function(require,module){module.exports=function(getter){return function(val){var type=Object.prototype.toString.call(val),validTypes=["[object Array]","[object Object]","[object String]"],isTypeValid=validTypes.indexOf(type)>-1;if(!isTypeValid)return"Unable to check uniqueness on this type of data.";var getterType="";"function"==typeof getter?getterType="function":"undefined"!=typeof getter&&(getterType="pluck");var items=[];for(var key in val){var item=val[key];"function"===getterType&&(item=getter(item)),"pluck"===getterType&&(item=item[getter]);var alreadyFound=items.indexOf(item)>-1;if(alreadyFound)return"Items are not unique.";items.push(item)}return null}}},{}],62:[function(require,module){var rx=/[a-z]/;module.exports=function(){return function(val){var valid="string"==typeof val&&!rx.test(val);return valid?null:"Value is contains lowercase characters."}}},{}]},{},[1])(1)});